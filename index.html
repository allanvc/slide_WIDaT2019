<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <title>Ci√™ncia de Dados no Setor P√∫blico:</title>
    <meta charset="utf-8" />
    <meta name="author" content="Allan V. C. Quadros" />
    <script src="libs/kePrint/kePrint.js"></script>
    <script src="https://use.fontawesome.com/5235085b15.js"></script>
    <link rel="stylesheet" href="css/middlebury.css" type="text/css" />
    <link rel="stylesheet" href="css/middlebury-fonts.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# <code><font color=#4C5455>Ci√™ncia de Dados no Setor P√∫blico:</code>
## <code>cases de sucesso no <font color=#F8A53A>Fundo Nacional de Desenvolvimento da Educa√ß√£o</font></code>
### Allan V. C. Quadros
### Estat√≠stico </br> 27 de novembro, 2019

---




layout: true
background-image: url(./img/logo/fnde_blue.jpg)
background-position: 0% 100%
background-size: 5%

---

background-image: url(./img/dollar1.jpg)
background-size: 80%
background-position: 50% 50%


---

class: inverse, center, middle
&lt;!-- title-slide-section-grey,  --&gt;

## "In God we trust. All other must bring data."
&lt;p style="text-align:right"&gt;W. Edwards Deming&lt;/p&gt;

---

class: inverse, center, middle
&lt;!-- title-slide-section-grey,  --&gt;

## &lt;code&gt;&lt;font color =#F8A53A&gt;Ci√™ncia &lt;/font&gt;&lt;font color =#76DFEC&gt;de &lt;/font&gt;&lt;font color =#C2DB70&gt;Dados&lt;/font&gt;&lt;font color =#4C5455&gt; no mundo hoje...&lt;/font&gt;&lt;/code&gt;


---

.pull-left[

### Data Science no mundo ...

![](./img/tesla.png)

]

.pull-right[

&lt;/br&gt;
&lt;/br&gt;
![](./img/galaxies2.jpg)


]


---

.pull-left[

### Data Science no mundo ...

![](./img/ML_med.png)

]

.pull-right[

&lt;/br&gt;
&lt;/br&gt;
![](./img/jurimetria.png)


]


---

.pull-left[

### Data Science no mundo ...

![](./img/facial_rec2.jpg)

![](./img/credit_card_fraud.jpg)

]

.pull-right[

&lt;/br&gt;
&lt;/br&gt;
![](./img/bayes_babies.png)


]


---

class: inverse, center, middle
&lt;!-- title-slide-section-grey,  --&gt;

## &lt;code&gt;&lt;font color =#F8A53A&gt;O que √© &lt;/font&gt;&lt;font color =#76DFEC&gt;Data &lt;/font&gt;&lt;font color =#C2DB70&gt;Science&lt;/font&gt;&lt;font color =#4C5455&gt;?&lt;/font&gt;&lt;/code&gt;


---


## &lt;font color =#76DFEC&gt;Data &lt;/font&gt;&lt;font color =#C2DB70&gt;Science&lt;/font&gt;

&lt;/br&gt;
&lt;/br&gt;

### &lt;code&gt;√â um campo **multidisciplinar** que utiliza m√©todos cient√≠ficos, processos, &lt;font color =#F8A53A&gt;algoritmos&lt;/font&gt; e sistemas para extrair conhecimento e insights tanto de &lt;font color =#F8A53A&gt;dados estruturados&lt;/font&gt; quanto de &lt;font color =#F8A53A&gt;n√£o-estruturados&lt;/font&gt;.&lt;/code&gt;

&lt;!-- #76DFEC - azul claro --&gt;
	&lt;!-- #F35A94 - rosa --&gt;
	&lt;!-- #F8A53A - laranja --&gt;
	&lt;!-- #C2DB70 - verde --&gt;
	&lt;!-- #4C5455 - cinza --&gt;


---

background-image: url(./img/ds_skillset2.jpg)
background-size: 95%
background-position: 50% 50%


&lt;/br&gt;
&lt;/br&gt;
&lt;/br&gt;
&lt;/br&gt;
&lt;/br&gt;
&lt;/br&gt;
&lt;/br&gt;
&lt;/br&gt;
&lt;/br&gt;
&lt;/br&gt;
&lt;/br&gt;
&lt;/br&gt;
&lt;/br&gt;
&lt;/br&gt;
&lt;/br&gt;
&lt;/br&gt;
&lt;/br&gt;
&lt;/br&gt;
&lt;/br&gt;
&lt;/br&gt;
&lt;/br&gt;
&lt;/br&gt;
&lt;/br&gt;
&lt;/br&gt;

#### Fonte: fusionanalytics.com

---

class: inverse, center, middle
&lt;!-- title-slide-section-grey,  --&gt;

# &lt;font color =#76DFEC&gt;o &lt;font&gt;&lt;font color =#F8A53A&gt;FNDE&lt;font&gt;


---

class: inverse, center, middle
&lt;!-- title-slide-section-grey,  --&gt;

# &lt;code&gt;&lt;font color =#C2DB70&gt;$$$&lt;/font&gt;&lt;/code&gt;

&lt;iframe src="./img/plotly_orcamento.html" width="90%" height="50%" scrolling="no" seamless="seamless" frameBorder="1"&gt; &lt;/iframe&gt;

---

## &lt;font color =#C2DB70&gt;Programas&lt;font&gt;
&lt;/br&gt;
&lt;/br&gt;
&lt;/br&gt;

&lt;img src="./img/programas_fnde.PNG" style="float: left; width: 40%; margin-right: 1%; margin-bottom: 0.5em;"&gt;
  
&lt;img src="./img/fies_logo.jpg" style="float: center; width: 15%; margin-right: 1%; margin-bottom: 0.5em;"&gt;
&lt;img src="./img/saleduc_logo.jpg" style="float: center; width: 15%; margin-right: 1%; margin-bottom: 0.5em;"&gt;
&lt;img src="./img/fundeb_logo.png" style="float: center; width: 15%; margin-right: 1%; margin-bottom: 0.5em;"&gt;

---

class: inverse, center, middle
&lt;!-- title-slide-section-grey,  --&gt;

## &lt;code&gt;&lt;font color =#76DFEC&gt;Como &lt;/font&gt;&lt;font color =#C2DB70&gt;o &lt;/font&gt;&lt;font color =#F8A53A&gt;FNDE &lt;/font&gt;&lt;font color =#C2DB70&gt;lida(va) com esse imenso volume de dados&lt;/font&gt;&lt;font color =#4C5455&gt;?&lt;/font&gt;&lt;/code&gt;


---

class: inverse, center, middle


&lt;img src="./img/excel_logo.jpg" style="float: center; width: 40%; margin-right: 1%; margin-bottom: 0.5em;"&gt;


---


&lt;img src="./img/basic_arithmetic.png" style="float: center; width: 50%; margin-right: 1%; margin-bottom: 0.5em;"&gt;


---

&lt;/br&gt;
&lt;/br&gt;
&lt;/br&gt;

&lt;img src="./img/summation.png" style="float: left; width: 25%; margin-right: 1%; margin-bottom: 0.5em;"&gt;


---

&lt;/br&gt;

&lt;img src="./img/mu.png" style="float: left; width: 40%; margin-right: 1%; margin-bottom: 0.5em;"&gt;

---

class: center, middle
# &lt;font color =#F8A53A&gt;Resumo do problema&lt;/font&gt;

.pull-left[

&lt;code&gt;

- imensa quantidade de dados

- dados extramente sens√≠veis (financeiros, estrat√©gicos)

&lt;/code&gt;

]

--

.pull-right[

&lt;code&gt;
**an√°lise de dados pouco profissional:**

- proje√ß√µes equivocadas;
- indicadores in√≥cuos/imprecisos;
- controles falhos;
- retrabalho;
- desperd√≠cio de tempo;&gt;
- desperd√≠cio de &lt;font color =#C2DB70&gt;$$$$&lt;/font&gt;

&lt;/code&gt;

]


---

class: inverse, center, middle

## &lt;code&gt;&lt;font color =#76DFEC&gt;O qu√™ &lt;/font&gt;&lt;font color =#C2DB70&gt;o &lt;/font&gt;&lt;font color =#F8A53A&gt;FNDE &lt;/font&gt;&lt;font color =#C2DB70&gt;tem feito&lt;/font&gt;&lt;font color =#4C5455&gt;?&lt;/font&gt;&lt;/code&gt;


---

class: center, middle
# &lt;font color =#F8A53A&gt;O projeto pioneiro...&lt;/font&gt;


---

# &lt;font color =#F8A53A&gt;FisFa - Fiscaliza Fatura&lt;/font&gt;
### **Aplicativo para fiscaliza√ß√£o das faturas dos Agentes Financeiros do FIES**  

.pull-left[
&lt;code&gt; 
### **Contextualiza√ß√£o:**

- FNDE possui 3 contratos: 2 com CEF e 1 com BB

**mensalmente, por banco, recebe-se:**

- fatura do servi√ßo de administra√ß√£o da carteira de financiamento

- base com dados dos alunos financiados (~ 1,7 milh√£o de linhas cada)

&lt;/code&gt;

]


.pull-right[
&lt;code&gt; 

**Valores:**  

- mensal: ~ R$ 40 milh√µes cada

- anual: ~ 1 bilh√£o de reais

**Implica√ß√µes:**

- responsabiliza√ß√£o do fiscal de contratos

- responsabiliza√ß√£o dos gestores

- impossibilidade de identificar irregularidades nas bases de dados e na cobran√ßa

&lt;/code&gt;
]


---


&lt;code&gt; 
## **Cen√°rio pr√©-FisFa:**

.pull-left[
**fiscaliza√ß√£o das faturas era "pro-forma":**

- n√£o havia base "espelho" do MEC/FNDE para compara√ß√£o

- retirava-se uma amostra (n√£o-aleat√≥ria e min√∫scula) da base enviada pelo banco

- checava-se apenas inconsist√™ncias gritantes

- ex: banco cobrou pelo aluno que ele mesmo informou que j√° havia quitado o financiamento

- todo o processo tomava aproximadamente uma semana

]


.pull-right[
**p√©ssimo clima organizacional:**

- discuss√µes constantes entre fiscais de contratos e os gestores da diretoria

- evas√£o de servidores

**responsabiliza√ß√£o:**

- indaga√ß√µes e apontamentos constantes de TCU e CGU

**tentativas:**

- TI desenvolveria o sistema de "gest√£o da carteira do FIES" üí∏

]

&lt;/code&gt;



---

&lt;code&gt; 
## **Concep√ß√£o do FisFa:**

.pull-left[

**experi√™ncia como fiscal de contrato:**

- conhecimento sobre o problema


**conhecimentos do segundo semestre de Estat√≠stica:**

- queria aprimorar a parte de programa√ß√£o em **R**


**independ√™ncia operacional:**

- tinha que ser algo para que outros pudessem operar



]



.pull-right[


**desenho:**

- estruturar a base de dados do FNDE/MEC que serviria como referencial de compara√ß√£o

- aplicativo *point &amp; click*  de Windows desenvolvido totalmente em **R** e com alguns detalhes em _Python_

- simples "cruzador/comparador" de tabelas

- incorporando as regras espec√≠ficas de cada um dos 3 contratos


]

&lt;/code&gt;

---

class: inverse, center, middle


&lt;img src="./img/fisfa.PNG" style="float: right; width: 100%; margin-right: 1%; margin-bottom: 0.5em;"&gt;


---

&lt;code&gt; 
## **Resultados FisFa:**

.pull-left[

**tempo de an√°lise de uma fatura:**

- passou de uma semana para &lt; 1 minuto

**maior confiabilidade e robustez na an√°lise**

**economia direta:**

- acima de R$200 milh√µes at√© 2018 üí∞

- diversos contratos em situa√ß√£o irregular

**economia indireta:**

- sem contrata√ß√£o de empresa de TI üí∞

- hora/trabalho de servidores üí∞

- identifica√ß√£o de erros na pr√≥pria base do FNDE/MEC

]


.pull-right[

**Pr√™mios:**

&lt;img src="./img/premio_cgu.png" style="float: left; width: 40%; margin-right: 1%; margin-bottom: 0.5em;"&gt;

&lt;img src="./img/premio_angc.jpg" style="float: left; width: 65%; margin-right: 1%; margin-bottom: 0.5em;"&gt;


]


---

class: center, middle
# &lt;font color =#F8A53A&gt;O principal projeto hoje...&lt;/font&gt;


---

# &lt;font color =#C2DB70&gt;Malha-Fina FNDE&lt;/font&gt;
### **An√°lise de presta√ß√µes de contas por meio de minera√ß√£o de dados**  

.pull-left[
&lt;code&gt; 
### **Contextualiza√ß√£o:**

- FNDE √© respons√°vel pela descentraliza√ß√£o de recursos de cerca de 33 programas

- s√£o 5.570 munic√≠pios, 27 estados, e entidades como APAES, etc

**obriga√ß√£o de prestar contas:**

- toda descentraliza√ß√£o gera uma obriga√ß√£o de prestar contas por parte do ente/entidade

- a obriga√ß√£o do FNDE √© analisar **TODAS**


&lt;/code&gt;

]


.pull-right[
&lt;code&gt; 

**N√∫meros anuais:**  

- entrada: ~ 35.000 presta√ß√µes de contas no SIGPC

- capacidade de an√°lise*: ~ 3.500 presta√ß√µes de contas

- passivo: 290 mil presta√ß√µes de contas

- $$$$: ~ R$90 bilhoes


&lt;/code&gt;
]


---


&lt;code&gt; 
### **Contextualiza√ß√£o:**


.pull-left[
**Implica√ß√µes:**

- gestores terminam mandatos sem contas analisadas

- eventuais danos ao er√°rio s√£o identificados tardiamente - n√£o pass√≠veis de recupera√ß√£o üí∏

]

.pull-right[
**tentativas:**

- TI implementaria a "an√°lise autom√°tica de presta√ß√µes de contas"

**problemas:**

- cada programa tem sua normatiza√ß√£o

- todo ano s√£o lan√ßadas portarias novas modificando algum aspecto
]

&lt;/code&gt;



---


&lt;code&gt; 
## **Concep√ß√£o do Malha-Fina:**

.pull-left[

**reconhecer que o problema nunca seria resolvido de forma "ideal"**

- CGU sugere ao FNDE utiliza√ß√£o de minera√ß√£o de dados em 2016


**defini√ß√£o de programas-piloto:**

- PNAE, PNATE e PDDE


**contrata√ß√£o de consultores:**

- estudo e estrutura√ß√£o da base de dados

- defini√ß√£o de vari√°veis

- defini√ß√£o e testes dos modelos



]


.pull-right[


**desenho:**

- aprendizagem de m√°quina supervisionada - classifica√ß√£o

- retorna uma probabilidade (nota de risco) de dano ao er√°rio

- algoritmo seria incorporado ao ambiente de produ√ß√£o do SIGPC

**algoritmo escolhido:** 

- XGBoost

]


---


&lt;code&gt; 
## **Resultados Malha-Fina:**

.pull-left[

**Potenciais:**

- elimina√ß√£o do passivo em ~ 5 anos

- economia de mais de R$ 3 bilhoes üí∞

- economia de mais de meio s√©culo de trabalho üí∞

- redu√ß√£o do √≠mpeto de fraude 


]


.pull-right[

**Taxa de acertos:**

- entre 75% e 85%


**Fase final de implementa√ß√£o**

**Expans√£o para os demais programas**

]



---

class: center, middle
# &lt;font color =#F8A53A&gt;Estimativa da quantidade de livros a serem comprados no PNLD&lt;/font&gt;


---

# &lt;font color =#76DFEC&gt;Programa Nacional do Livro Did√°tico - PNLD&lt;/font&gt;
### **S√©ries temporais para estimar o n√∫mero de alunos para cada s√©rie em todas as escolas do Brasil**  

&lt;code&gt; 
### **Contextualiza√ß√£o:**

.pull-left[
- Todo ano o FNDE realiza a compra centralizada e distribui√ß√£o dos livros did√°ticos de todas as escolas p√∫blicas do pa√≠s

- s√£o 5.570 munic√≠pios, 27 estados

**padroniza√ß√£o √© "proibida"**

- as escolas tem liberdade para escolherem seu material did√°tico

]

.pull-right[
**controle √© quase zero**

- as escolas n√£o tem obriga√ß√£o de informar n√∫mero de alunos

**como era a feita a estimativa anteriormente:**
&lt;/code&gt;

- `\(Q_{2020} = Q_{2019} + x\)`, `\(x = üßô\)`

]


---


### **Contextualiza√ß√£o:**
&lt;code&gt; 

**N√∫meros:**  

&lt;table class="table" style="margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Etapa de Ensino &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Escolas Beneficiadas &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Alunos Beneficiados &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Total de Exemplares &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Valor de Aquisi√ß√£o &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Educa√ß√£o Infantil &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 74.409 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 5.448.222 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 646.795 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; R$ 9.826.136,60 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Anos Iniciais do Ensino Fundamental &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 92.467 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 12.189.389 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 80.092.370 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; R$ 615.852.107,23 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Anos Finais do Ensino Fundamental &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 48.529 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 10.578.243 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 24.523.891 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; R$ 224.516.830,94 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Ensino M√©dio &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 20.229 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 6.962.045 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 20.835.977 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; R$ 251.830.577,40 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Total Geral &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 147.857 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 35.177.899 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 126.099.033 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; R$ 1.102.025.652,17 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;/code&gt;


---

&lt;code&gt; 
## **Resultados Estimativa PNLD**

&lt;/br&gt;

&lt;/br&gt;
### **Somente saberemos ano que vem**

- mas j√° temos uma metodologia cient√≠fica de estimativa


- dados minimamente confi√°veis - censo escolar


- possibilidade inclusive de estimar o erro


---


class: inverse, center, middle


## &lt;code&gt;&lt;font color =#F8A53A&gt;Outras &lt;/font&gt;&lt;font color =#76DFEC&gt;iniciativas &lt;/font&gt;&lt;font color =#C2DB70&gt; e projetos&lt;/font&gt;&lt;/code&gt;


---



class: inverse, center, middle


## &lt;code&gt;&lt;font color =#F35A94&gt;Desafios &lt;/font&gt;&lt;/code&gt;


---

class: title-slide-final, middle
background-image: url()
background-size: 100px
background-position: 9% 15%

# Obrigado!!

&lt;/br&gt;
&lt;/br&gt;

## &lt;code&gt;&lt;font color =#F8A53A&gt;Duvidas &lt;/font&gt;&lt;font color =#76DFEC&gt;ou &lt;/font&gt;&lt;font color =#C2DB70&gt;Perguntas?&lt;/font&gt;&lt;/code&gt;



### .white[Contato:]

&lt;p&gt;
&lt;a href="mailto:allan.quadros@fnde.gov.br"&gt;&lt;i class="fa fa-paper-plane fa-fw"&gt;&lt;/i&gt; allan.quadros@fnde.gov.br&lt;/a&gt;
&lt;/p&gt;


&lt;!-- como colocar figuras ao lado de palavras varias vezes em html --&gt;
&lt;div&gt;
    &lt;p&gt;Feito no
    &lt;img src="./img/rball.png" style="float: center; width: 4%;"&gt; com 
    &lt;img src="./img/xaringan.png" style="float: center; width: 3.8%;"&gt; e
    &lt;img src="./img/plotlylogo.png" style="float: center; width: 4%;"&gt; .
    &lt;/p&gt;
&lt;/div&gt;

Apresenta√ß√£o dispon√≠vel no &lt;img src="./img/gitlogo1.png" style="float: center; width: 8%;"&gt;em:

&lt;p&gt;
&lt;a href="https://allanvc.github.io/slide_WIDaT2019/" style="color:navyblue"&gt;https://allanvc.github.io/slide_WIDaT2019/&lt;/a&gt;
&lt;/p&gt;

&lt;br&gt;
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script src="./js/midd_xaringan.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false,
"ratio": "16:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();</script>

<script>
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
